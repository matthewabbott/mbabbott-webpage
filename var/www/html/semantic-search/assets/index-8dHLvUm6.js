(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const sn=!1;var Et=Array.isArray,ur=Array.prototype.indexOf,Ht=Array.from,cr=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,fr=Object.getOwnPropertyDescriptors,dr=Object.prototype,_r=Array.prototype,Sn=Object.getPrototypeOf;const Ce=()=>{};function vr(e){return e()}function Pt(e){for(var t=0;t<e.length;t++)e[t]()}const ee=2,An=4,et=8,Yt=16,ne=32,tt=64,Nt=128,xe=256,_t=512,H=1024,he=2048,nt=4096,se=8192,Oe=16384,hr=32768,Kt=65536,gr=1<<17,br=1<<19,Dn=1<<20,ae=Symbol("$state"),pr=Symbol("legacy props");function $n(e){return e===this.v}function Cn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Gt(e){return!Cn(e,this.v)}function wr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Er(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function kr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Tr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Sr(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Ar(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Me=!1,Dr=!1;function $r(){Me=!0}const Jt=1,Zt=2,In=4,Cr=8,Ir=16,Rr=1,Fr=2,Or=4,Mr=8,Lr=16,Pr=1,Nr=2,W=Symbol();function J(e,t){var n={f:0,v:e,reactions:null,equals:$n,rv:0,wv:0};return n}function xt(e,t=!1){var r;const n=J(e);return t||(n.equals=Gt),Me&&R!==null&&R.l!==null&&((r=R.l).s??(r.s=[])).push(n),n}function Z(e,t=!1){return qr(xt(e,t))}function qr(e){return I!==null&&I.f&ee&&(oe===null?Zr([e]):oe.push(e)),e}function on(e,t){return D(e,z(()=>v(e))),t}function D(e,t){return I!==null&&St()&&I.f&(ee|Yt)&&(oe===null||!oe.includes(e))&&Ar(),qt(e,t)}function qt(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Kn(),Rn(e,he),St()&&S!==null&&S.f&H&&!(S.f&ne)&&(U!==null&&U.includes(e)?(re(S,he),Dt(S)):ve===null?Qr([e]):ve.push(e))),t}function Rn(e,t){var n=e.reactions;if(n!==null)for(var r=St(),i=n.length,s=0;s<i;s++){var o=n[s],u=o.f;u&he||!r&&o===S||(re(o,t),u&(H|xe)&&(u&ee?Rn(o,nt):Dt(o)))}}let Ur=!1;function De(e,t=null,n){if(typeof e!="object"||e===null||ae in e)return e;const r=Sn(e);if(r!==dr&&r!==_r)return e;var i=new Map,s=Et(e),o=J(0);s&&i.set("length",J(e.length));var u;return new Proxy(e,{defineProperty(l,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&kr();var f=i.get(a);return f===void 0?(f=J(c.value),i.set(a,f)):D(f,De(c.value,u)),!0},deleteProperty(l,a){var c=i.get(a);if(c===void 0)a in l&&i.set(a,J(W));else{if(s&&typeof a=="string"){var f=i.get("length"),_=Number(a);Number.isInteger(_)&&_<f.v&&D(f,_)}D(c,W),ln(o)}return!0},get(l,a,c){var h;if(a===ae)return e;var f=i.get(a),_=a in l;if(f===void 0&&(!_||(h=$e(l,a))!=null&&h.writable)&&(f=J(De(_?l[a]:W,u)),i.set(a,f)),f!==void 0){var d=v(f);return d===W?void 0:d}return Reflect.get(l,a,c)},getOwnPropertyDescriptor(l,a){var c=Reflect.getOwnPropertyDescriptor(l,a);if(c&&"value"in c){var f=i.get(a);f&&(c.value=v(f))}else if(c===void 0){var _=i.get(a),d=_==null?void 0:_.v;if(_!==void 0&&d!==W)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(l,a){var d;if(a===ae)return!0;var c=i.get(a),f=c!==void 0&&c.v!==W||Reflect.has(l,a);if(c!==void 0||S!==null&&(!f||(d=$e(l,a))!=null&&d.writable)){c===void 0&&(c=J(f?De(l[a],u):W),i.set(a,c));var _=v(c);if(_===W)return!1}return f},set(l,a,c,f){var $;var _=i.get(a),d=a in l;if(s&&a==="length")for(var h=c;h<_.v;h+=1){var b=i.get(h+"");b!==void 0?D(b,W):h in l&&(b=J(W),i.set(h+"",b))}_===void 0?(!d||($=$e(l,a))!=null&&$.writable)&&(_=J(void 0),D(_,De(c,u)),i.set(a,_)):(d=_.v!==W,D(_,De(c,u)));var T=Reflect.getOwnPropertyDescriptor(l,a);if(T!=null&&T.set&&T.set.call(f,c),!d){if(s&&typeof a=="string"){var g=i.get("length"),m=Number(a);Number.isInteger(m)&&m>=g.v&&D(g,m+1)}ln(o)}return!0},ownKeys(l){v(o);var a=Reflect.ownKeys(l).filter(_=>{var d=i.get(_);return d===void 0||d.v!==W});for(var[c,f]of i)f.v!==W&&!(c in l)&&a.push(c);return a},setPrototypeOf(){Tr()}})}function ln(e,t=1){D(e,e.v+t)}function an(e){return e!==null&&typeof e=="object"&&ae in e?e[ae]:e}function zr(e,t){return Object.is(an(e),an(t))}var un,Fn,On;function jr(){if(un===void 0){un=window;var e=Element.prototype,t=Node.prototype;Fn=$e(t,"firstChild").get,On=$e(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function kt(e=""){return document.createTextNode(e)}function vt(e){return Fn.call(e)}function Tt(e){return On.call(e)}function y(e,t){return vt(e)}function rt(e,t){{var n=vt(e);return n instanceof Comment&&n.data===""?Tt(n):n}}function k(e,t=1,n=!1){let r=e;for(;t--;)r=Tt(r);return r}function Br(e){e.textContent=""}function ht(e){var t=ee|he;S===null?t|=xe:S.f|=Dn;var n=I!==null&&I.f&ee?I:null;const r={children:null,ctx:R,deps:null,equals:$n,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??S};return n!==null&&(n.children??(n.children=[])).push(r),r}function Mn(e){const t=ht(e);return t.equals=Gt,t}function Ln(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&ee?Qt(r):ge(r)}}}function Wr(e){for(var t=e.parent;t!==null;){if(!(t.f&ee))return t;t=t.parent}return null}function Pn(e){var t,n=S;le(Wr(e));try{Ln(e),t=Gn(e)}finally{le(n)}return t}function Nn(e){var t=Pn(e),n=(me||e.f&xe)&&e.deps!==null?nt:H;re(e,n),e.equals(t)||(e.v=t,e.wv=Kn())}function Qt(e){Ln(e),Qe(e,0),re(e,Oe),e.v=e.children=e.deps=e.ctx=e.reactions=null}function qn(e){S===null&&I===null&&yr(),I!==null&&I.f&xe&&mr(),rn&&wr()}function Vr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Le(e,t,n,r=!0){var i=(e&tt)!==0,s=S,o={ctx:R,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|he,first:null,fn:t,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,wv:0};if(n){var u=Ie;try{fn(!0),it(o),o.f|=hr}catch(c){throw ge(o),c}finally{fn(u)}}else t!==null&&Dt(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Dn)===0;if(!l&&!i&&r&&(s!==null&&Vr(o,s),I!==null&&I.f&ee)){var a=I;(a.children??(a.children=[])).push(o)}return o}function Xt(e){const t=Le(et,null,!1);return re(t,H),t.teardown=e,t}function Ut(e){qn();var t=S!==null&&(S.f&ne)!==0&&R!==null&&!R.m;if(t){var n=R;(n.e??(n.e=[])).push({fn:e,effect:S,reaction:I})}else{var r=en(e);return r}}function Hr(e){return qn(),Pe(e)}function Yr(e){const t=Le(tt,e,!0);return(n={})=>new Promise(r=>{n.outro?gt(t,()=>{ge(t),r(void 0)}):(ge(t),r(void 0))})}function en(e){return Le(An,e,!1)}function cn(e,t){var n=R,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Pe(()=>{e(),!r.ran&&(r.ran=!0,D(n.l.r2,!0),z(t))})}function Kr(){var e=R;Pe(()=>{if(v(e.l.r2)){for(var t of e.l.r1){var n=t.effect;n.f&H&&re(n,nt),Ne(n)&&it(n),t.ran=!1}e.l.r2.v=!1}})}function Pe(e){return Le(et,e,!0)}function P(e){return tn(e)}function tn(e,t=0){return Le(et|Yt|t,e,!0)}function Je(e,t=!0){return Le(et|ne,e,!0,t)}function Un(e){var t=e.teardown;if(t!==null){const n=rn,r=I;dn(!0),be(null);try{t.call(null)}finally{dn(n),be(r)}}}function zn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)Qt(t[n])}}function jn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;ge(n,t),n=r}}function Gr(e){for(var t=e.first;t!==null;){var n=t.next;t.f&ne||ge(t),t=n}}function ge(e,t=!0){var n=!1;if((t||e.f&br)&&e.nodes_start!==null){for(var r=e.nodes_start,i=e.nodes_end;r!==null;){var s=r===i?null:Tt(r);r.remove(),r=s}n=!0}jn(e,t&&!n),zn(e),Qe(e,0),re(e,Oe);var o=e.transitions;if(o!==null)for(const l of o)l.stop();Un(e);var u=e.parent;u!==null&&u.first!==null&&Bn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Bn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function gt(e,t){var n=[];nn(e,n,!0),Wn(n,()=>{ge(e),t&&t()})}function Wn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function nn(e,t,n){if(!(e.f&se)){if(e.f^=se,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Kt)!==0||(r.f&ne)!==0;nn(r,t,s?n:!1),r=i}}}function bt(e){Vn(e,!0)}function Vn(e,t){if(e.f&se){Ne(e)&&it(e),e.f^=se;for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Kt)!==0||(n.f&ne)!==0;Vn(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let zt=!1,jt=[];function Jr(){zt=!1;const e=jt.slice();jt=[],Pt(e)}function Ze(e){zt||(zt=!0,queueMicrotask(Jr)),jt.push(e)}function Hn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ft=!1,pt=!1,wt=null,Ie=!1,rn=!1;function fn(e){Ie=e}function dn(e){rn=e}let Bt=[],Ve=0;let I=null;function be(e){I=e}let S=null;function le(e){S=e}let oe=null;function Zr(e){oe=e}let U=null,Y=0,ve=null;function Qr(e){ve=e}let Yn=1,mt=0,me=!1,R=null;function Kn(){return++Yn}function St(){return!Me||R!==null&&R.l===null}function Ne(e){var a;var t=e.f;if(t&he)return!0;if(t&nt){var n=e.deps,r=(t&xe)!==0;if(n!==null){var i,s,o=(t&_t)!==0,u=r&&S!==null&&!me,l=n.length;if(o||u){for(i=0;i<l;i++)s=n[i],(o||!((a=s==null?void 0:s.reactions)!=null&&a.includes(e)))&&(s.reactions??(s.reactions=[])).push(e);o&&(e.f^=_t)}for(i=0;i<l;i++)if(s=n[i],Ne(s)&&Nn(s),s.wv>e.wv)return!0}(!r||S!==null&&!me)&&re(e,H)}return!1}function Xr(e,t){for(var n=t;n!==null;){if(n.f&Nt)try{n.fn(e);return}catch{n.f^=Nt}n=n.parent}throw ft=!1,e}function ei(e){return(e.f&Oe)===0&&(e.parent===null||(e.parent.f&Nt)===0)}function At(e,t,n,r){if(ft){if(n===null&&(ft=!1),ei(t))throw e;return}n!==null&&(ft=!0);{Xr(e,t);return}}function Gn(e){var _;var t=U,n=Y,r=ve,i=I,s=me,o=oe,u=R,l=e.f;U=null,Y=0,ve=null,I=l&(ne|tt)?null:e,me=!Ie&&(l&xe)!==0,oe=null,R=e.ctx,mt++;try{var a=(0,e.fn)(),c=e.deps;if(U!==null){var f;if(Qe(e,Y),c!==null&&Y>0)for(c.length=Y+U.length,f=0;f<U.length;f++)c[Y+f]=U[f];else e.deps=c=U;if(!me)for(f=Y;f<c.length;f++)((_=c[f]).reactions??(_.reactions=[])).push(e)}else c!==null&&Y<c.length&&(Qe(e,Y),c.length=Y);return i!==null&&mt++,a}finally{U=t,Y=n,ve=r,I=i,me=s,oe=o,R=u}}function ti(e,t){let n=t.reactions;if(n!==null){var r=ur.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&ee&&(U===null||!U.includes(t))&&(re(t,nt),t.f&(xe|_t)||(t.f^=_t),Qe(t,0))}function Qe(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ti(e,n[r])}function it(e){var t=e.f;if(!(t&Oe)){re(e,H);var n=S,r=R;S=e;try{t&Yt?Gr(e):jn(e),zn(e),Un(e);var i=Gn(e);e.teardown=typeof i=="function"?i:null,e.wv=Yn;var s=e.deps,o;sn&&Dr&&e.f&he}catch(u){At(u,e,n,r||e.ctx)}finally{S=n}}}function ni(){if(Ve>1e3){Ve=0;try{Er()}catch(e){if(wt!==null)At(e,wt,null);else throw e}}Ve++}function ri(e){var t=e.length;if(t!==0){ni();var n=Ie;Ie=!0;try{for(var r=0;r<t;r++){var i=e[r];i.f&H||(i.f^=H);var s=[];Jn(i,s),ii(s)}}finally{Ie=n}}}function ii(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(Oe|se)))try{Ne(r)&&(it(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Bn(r):r.fn=null))}catch(i){At(i,r,null,r.ctx)}}}function si(){if(pt=!1,Ve>1001)return;const e=Bt;Bt=[],ri(e),pt||(Ve=0,wt=null)}function Dt(e){pt||(pt=!0,queueMicrotask(si)),wt=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(tt|ne)){if(!(n&H))return;t.f^=H}}Bt.push(t)}function Jn(e,t){var n=e.first,r=[];e:for(;n!==null;){var i=n.f,s=(i&ne)!==0,o=s&&(i&H)!==0,u=n.next;if(!o&&!(i&se))if(i&et){if(s)n.f^=H;else try{Ne(n)&&it(n)}catch(f){At(f,n,null,n.ctx)}var l=n.first;if(l!==null){n=l;continue}}else i&An&&r.push(n);if(u===null){let f=n.parent;for(;f!==null;){if(e===f)break e;var a=f.next;if(a!==null){n=a;continue e}f=f.parent}}n=u}for(var c=0;c<r.length;c++)l=r[c],t.push(l),Jn(l,t)}function v(e){var c;var t=e.f,n=(t&ee)!==0;if(n&&t&Oe){var r=Pn(e);return Qt(e),r}if(I!==null){oe!==null&&oe.includes(e)&&Sr();var i=I.deps;e.rv<mt&&(e.rv=mt,U===null&&i!==null&&i[Y]===e?Y++:U===null?U=[e]:U.push(e),ve!==null&&S!==null&&S.f&H&&!(S.f&ne)&&ve.includes(e)&&(re(S,he),Dt(S)))}else if(n&&e.deps===null)for(var s=e,o=s.parent,u=s;o!==null;)if(o.f&ee){var l=o;u=l,o=l.parent}else{var a=o;(c=a.deriveds)!=null&&c.includes(u)||(a.deriveds??(a.deriveds=[])).push(u);break}return n&&(s=e,Ne(s)&&Nn(s)),e.v}function z(e){const t=I;try{return I=null,e()}finally{I=t}}const oi=-7169;function re(e,t){e.f=e.f&oi|t}function ue(e,t=!1,n){R={p:R,c:null,e:null,m:!1,s:e,x:null,l:null},Me&&!t&&(R.l={s:null,u:null,r1:[],r2:J(!1)})}function ce(e){const t=R;if(t!==null){const o=t.e;if(o!==null){var n=S,r=I;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];le(s.effect),be(s.reaction),en(s.fn)}}finally{le(n),be(r)}}R=t.p,t.m=!0}return{}}function li(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ae in e)Wt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ae in n&&Wt(n)}}}function Wt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Wt(e[r],t)}catch{}const n=Sn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=fr(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const ai=["touchstart","touchmove"];function ui(e){return ai.includes(e)}let _n=!1;function ci(){_n||(_n=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Zn(e){var t=I,n=S;be(null),le(null);try{return e()}finally{be(t),le(n)}}function Qn(e,t,n,r=n){e.addEventListener(t,()=>Zn(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),ci()}const fi=new Set,vn=new Set;function di(e,t,n,r){function i(s){if(r.capture||ze.call(t,s),!s.cancelBubble)return Zn(()=>n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ze(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function K(e,t,n,r,i){var s={capture:r,passive:i},o=di(e,t,n,s);(t===document.body||t===window||t===document)&&Xt(()=>{t.removeEventListener(e,o,s)})}function ze(e){var m;var t=this,n=t.ownerDocument,r=e.type,i=((m=e.composedPath)==null?void 0:m.call(e))||[],s=i[0]||e.target,o=0,u=e.__root;if(u){var l=i.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;l<=a&&(o=l)}if(s=i[o]||e.target,s!==t){cr(e,"currentTarget",{configurable:!0,get(){return s||n}});var c=I,f=S;be(null),le(null);try{for(var _,d=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+r];if(b!==void 0&&!s.disabled)if(Et(b)){var[T,...g]=b;T.apply(s,[e,...g])}else b.call(s,e)}catch($){_?d.push($):_=$}if(e.cancelBubble||h===t||h===null)break;s=h}if(_){for(let $ of d)queueMicrotask(()=>{throw $});throw _}}finally{e.__root=t,delete e.currentTarget,be(c),le(f)}}}function _i(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function yt(e,t){var n=S;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function L(e,t){var n=(t&Pr)!==0,r=(t&Nr)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=_i(s?e:"<!>"+e),n||(i=vt(i)));var o=r?document.importNode(i,!0):i.cloneNode(!0);if(n){var u=vt(o),l=o.lastChild;yt(u,l)}else yt(o,o);return o}}function hn(e=""){{var t=kt(e+"");return yt(t,t),t}}function Xn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=kt();return e.append(t,n),yt(t,n),e}function F(e,t){e!==null&&e.before(t)}function V(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function vi(e,t){return hi(e,t)}const Se=new Map;function hi(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){jr();var u=new Set,l=f=>{for(var _=0;_<f.length;_++){var d=f[_];if(!u.has(d)){u.add(d);var h=ui(d);t.addEventListener(d,ze,{passive:h});var b=Se.get(d);b===void 0?(document.addEventListener(d,ze,{passive:h}),Se.set(d,1)):Se.set(d,b+1)}}};l(Ht(fi)),vn.add(l);var a=void 0,c=Yr(()=>{var f=n??t.appendChild(kt());return Je(()=>{if(s){ue({});var _=R;_.c=s}i&&(r.$$events=i),a=e(f,r)||{},s&&ce()}),()=>{var h;for(var _ of u){t.removeEventListener(_,ze);var d=Se.get(_);--d===0?(document.removeEventListener(_,ze),Se.delete(_)):Se.set(_,d)}vn.delete(l),f!==n&&((h=f.parentNode)==null||h.removeChild(f))}});return gi.set(a,c),a}let gi=new WeakMap;function ie(e,t,n=!1){var r=e,i=null,s=null,o=W,u=n?Kt:0,l=!1;const a=(f,_=!0)=>{l=!0,c(_,f)},c=(f,_)=>{o!==(o=f)&&(o?(i?bt(i):_&&(i=Je(()=>_(r))),s&&gt(s,()=>{s=null})):(s?bt(s):_&&(s=Je(()=>_(r))),i&&gt(i,()=>{i=null})))};tn(()=>{l=!1,t(a),l||c(null,null)},u)}function He(e,t){return t}function bi(e,t,n,r){for(var i=[],s=t.length,o=0;o<s;o++)nn(t[o].e,i,!0);var u=s>0&&i.length===0&&n!==null;if(u){var l=n.parentNode;Br(l),l.append(n),r.clear(),_e(e,t[0].prev,t[s-1].next)}Wn(i,()=>{for(var a=0;a<s;a++){var c=t[a];u||(r.delete(c.k),_e(e,c.prev,c.next)),ge(c.e,!u)}})}function Ye(e,t,n,r,i,s=null){var o=e,u={flags:t,items:new Map,first:null},l=(t&In)!==0;if(l){var a=e;o=a.appendChild(kt())}var c=null,f=!1;tn(()=>{var _=n(),d=Et(_)?_:_==null?[]:Ht(_),h=d.length;if(!(f&&h===0)){f=h===0;{var b=I;pi(d,u,o,i,t,(b.f&se)!==0,r)}s!==null&&(h===0?c?bt(c):c=Je(()=>s(o)):c!==null&&gt(c,()=>{c=null})),n()}})}function pi(e,t,n,r,i,s,o,u){var Ue,ot,B,X;var l=(i&Cr)!==0,a=(i&(Jt|Zt))!==0,c=e.length,f=t.items,_=t.first,d=_,h,b=null,T,g=[],m=[],$,M,E,x;if(l)for(x=0;x<c;x+=1)$=e[x],M=o($,x),E=f.get(M),E!==void 0&&((Ue=E.a)==null||Ue.measure(),(T??(T=new Set)).add(E));for(x=0;x<c;x+=1){if($=e[x],M=o($,x),E=f.get(M),E===void 0){var q=d?d.e.nodes_start:n;b=mi(q,t,b,b===null?t.first:b.next,$,M,x,r,i),f.set(M,b),g=[],m=[],d=b.next;continue}if(a&&wi(E,$,x,i),E.e.f&se&&(bt(E.e),l&&((ot=E.a)==null||ot.unfix(),(T??(T=new Set)).delete(E))),E!==d){if(h!==void 0&&h.has(E)){if(g.length<m.length){var C=m[0],p;b=C.prev;var A=g[0],O=g[g.length-1];for(p=0;p<g.length;p+=1)gn(g[p],C,n);for(p=0;p<m.length;p+=1)h.delete(m[p]);_e(t,A.prev,O.next),_e(t,b,A),_e(t,O,C),d=C,b=O,x-=1,g=[],m=[]}else h.delete(E),gn(E,d,n),_e(t,E.prev,E.next),_e(t,E,b===null?t.first:b.next),_e(t,b,E),b=E;continue}for(g=[],m=[];d!==null&&d.k!==M;)(s||!(d.e.f&se))&&(h??(h=new Set)).add(d),m.push(d),d=d.next;if(d===null)continue;E=d}g.push(E),b=E,d=E.next}if(d!==null||h!==void 0){for(var N=h===void 0?[]:Ht(h);d!==null;)(s||!(d.e.f&se))&&N.push(d),d=d.next;var G=N.length;if(G>0){var fe=i&In&&c===0?n:null;if(l){for(x=0;x<G;x+=1)(B=N[x].a)==null||B.measure();for(x=0;x<G;x+=1)(X=N[x].a)==null||X.fix()}bi(t,N,fe,f)}}l&&Ze(()=>{var ke;if(T!==void 0)for(E of T)(ke=E.a)==null||ke.apply()}),S.first=t.first&&t.first.e,S.last=b&&b.e}function wi(e,t,n,r){r&Jt&&qt(e.v,t),r&Zt?qt(e.i,n):e.i=n}function mi(e,t,n,r,i,s,o,u,l,a){var c=(l&Jt)!==0,f=(l&Ir)===0,_=c?f?xt(i):J(i):i,d=l&Zt?J(o):o,h={i:d,v:_,k:s,a:null,e:null,prev:n,next:r};try{return h.e=Je(()=>u(e,_,d),Ur),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function gn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var o=Tt(s);i.before(s),s=o}}function _e(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Xe(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function er(e,t,n=t){var r=St();Qn(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=Ft(e)?Ot(s):s,n(s),r&&s!==(s=t())){var o=e.selectionStart,u=e.selectionEnd;e.value=s??"",u!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(u,e.value.length))}}),z(t)==null&&e.value&&n(Ft(e)?Ot(e.value):e.value),Pe(()=>{var i=t();Ft(e)&&i===Ot(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const Rt=new Set;function bn(e,t,n,r,i=r){var s=n.getAttribute("type")==="checkbox",o=e;if(t!==null)for(var u of t)o=o[u]??(o[u]=[]);o.push(n),Qn(n,"change",()=>{var l=n.__value;s&&(l=yi(o,l,n.checked)),i(l)},()=>i(s?[]:null)),Pe(()=>{var l=r();s?(l=l||[],n.checked=l.includes(n.__value)):n.checked=zr(n.__value,l)}),Xt(()=>{var l=o.indexOf(n);l!==-1&&o.splice(l,1)}),Rt.has(o)||(Rt.add(o),Ze(()=>{o.sort((l,a)=>l.compareDocumentPosition(a)===4?-1:1),Rt.delete(o)})),Ze(()=>{})}function yi(e,t,n){for(var r=new Set,i=0;i<e.length;i+=1)e[i].checked&&r.add(e[i].__value);return n||r.delete(t),Array.from(r)}function Ft(e){var t=e.type;return t==="number"||t==="range"}function Ot(e){return e===""?null:+e}function pn(e,t){return e===t||(e==null?void 0:e[ae])===t}function Ei(e={},t,n,r){return en(()=>{var i,s;return Pe(()=>{i=s,s=[],z(()=>{e!==n(...s)&&(t(e,...s),i&&pn(n(...i),e)&&t(null,...i))})}),()=>{Ze(()=>{s&&pn(n(...s),e)&&t(null,...s)})}}),e}function xi(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function pe(e=!1){const t=R,n=t.l.u;if(!n)return;let r=()=>li(t.s);if(e){let i=0,s={};const o=ht(()=>{let u=!1;const l=t.s;for(const a in l)l[a]!==s[a]&&(s[a]=l[a],u=!0);return u&&i++,i});r=()=>v(o)}n.b.length&&Hr(()=>{wn(t,r),Pt(n.b)}),Ut(()=>{const i=z(()=>n.m.map(vr));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Ut(()=>{wn(t,r),Pt(n.a)})}function wn(e,t){if(e.l.s)for(const n of e.l.s)v(n);t()}function ki(e,t,n){if(e==null)return t(void 0),Ce;const r=z(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}let lt=!1;function j(e,t,n){const r=n[t]??(n[t]={store:null,source:xt(void 0),unsubscribe:Ce});if(r.store!==e)if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Ce;else{var i=!0;r.unsubscribe=ki(e,s=>{i?r.source.v=s:D(r.source,s)}),i=!1}return v(r.source)}function Q(e,t){return e.set(t),t}function qe(){const e={};return Xt(()=>{for(var t in e)e[t].unsubscribe()}),e}function Mt(e,t,n){return e.set(n),t}function Ti(e){var t=lt;try{return lt=!1,[e(),lt]}finally{lt=t}}function mn(e){for(var t=S,n=S;t!==null&&!(t.f&(ne|tt));)t=t.parent;try{return le(t),e()}finally{le(n)}}function je(e,t,n,r){var q;var i=(n&Rr)!==0,s=!Me||(n&Fr)!==0,o=(n&Mr)!==0,u=(n&Lr)!==0,l=!1,a;o?[a,l]=Ti(()=>e[t]):a=e[t];var c=ae in e||pr in e,f=o&&(((q=$e(e,t))==null?void 0:q.set)??(c&&t in e&&(C=>e[t]=C)))||void 0,_=r,d=!0,h=!1,b=()=>(h=!0,d&&(d=!1,u?_=z(r):_=r),_);a===void 0&&r!==void 0&&(f&&s&&xr(),a=b(),f&&f(a));var T;if(s)T=()=>{var C=e[t];return C===void 0?b():(d=!0,h=!1,C)};else{var g=mn(()=>(i?ht:Mn)(()=>e[t]));g.f|=gr,T=()=>{var C=v(g);return C!==void 0&&(_=void 0),C===void 0?_:C}}if(!(n&Or))return T;if(f){var m=e.$$legacy;return function(C,p){return arguments.length>0?((!s||!p||m||l)&&f(p?T():C),C):T()}}var $=!1,M=!1,E=xt(a),x=mn(()=>ht(()=>{var C=T(),p=v(E);return $?($=!1,M=!0,p):(M=!1,E.v=C)}));return i||(x.equals=Gt),function(C,p){if(arguments.length>0){const A=p?v(x):s&&o?De(C):C;return x.equals(A)||($=!0,D(E,A),h&&_!==void 0&&(_=A),z(()=>v(x))),C}return v(x)}}function tr(e){R===null&&Hn(),Me&&R.l!==null?Di(R).m.push(e):Ut(()=>{const t=z(e);if(typeof t=="function")return t})}function Si(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Ai(){const e=R;return e===null&&Hn(),(t,n,r)=>{var s;const i=(s=e.s.$$events)==null?void 0:s[t];if(i){const o=Et(i)?i.slice():[i],u=Si(t,n,r);for(const l of o)l.call(e.x,u);return!u.defaultPrevented}return!0}}function Di(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const $i="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($i);$r();let w;function Be(e){const t=w.__externref_table_alloc();return w.__wbindgen_export_2.set(t,e),t}function Lt(e,t){try{return e.apply(this,t)}catch(n){const r=Be(n);w.__wbindgen_exn_store(r)}}const nr=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&nr.decode();let We=null;function Ke(){return(We===null||We.byteLength===0)&&(We=new Uint8Array(w.memory.buffer)),We}function at(e,t){return e=e>>>0,nr.decode(Ke().subarray(e,e+t))}let te=0;const dt=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Ci=typeof dt.encodeInto=="function"?function(e,t){return dt.encodeInto(e,t)}:function(e,t){const n=dt.encode(e);return t.set(n),{read:e.length,written:n.length}};function Ee(e,t,n){if(n===void 0){const u=dt.encode(e),l=t(u.length,1)>>>0;return Ke().subarray(l,l+u.length).set(u),te=u.length,l}let r=e.length,i=t(r,1)>>>0;const s=Ke();let o=0;for(;o<r;o++){const u=e.charCodeAt(o);if(u>127)break;s[i+o]=u}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;const u=Ke().subarray(i+o,i+r),l=Ci(e,u);o+=l.written,i=n(i,r,o,1)>>>0}return te=o,i}let we=null;function ut(){return(we===null||we.buffer.detached===!0||we.buffer.detached===void 0&&we.buffer!==w.memory.buffer)&&(we=new DataView(w.memory.buffer)),we}function ct(e){return e==null}const yn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{w.__wbindgen_export_6.get(e.dtor)(e.a,e.b)});function Ii(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},s=(...o)=>{i.cnt++;const u=i.a;i.a=0;try{return r(u,i.b,...o)}finally{--i.cnt===0?(w.__wbindgen_export_6.get(i.dtor)(u,i.b),yn.unregister(i)):i.a=u}};return s.original=i,yn.register(s,i,i),s}function Vt(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let s="[";i>0&&(s+=Vt(e[0]));for(let o=1;o<i;o++)s+=", "+Vt(e[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function rr(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function Ri(e,t,n){const r=Ee(e,w.__wbindgen_malloc,w.__wbindgen_realloc),i=te;return w.create_semantic_chunks(r,i,t,n)}function Fi(e,t){const n=t(e.length*1,1)>>>0;return Ke().set(e,n/1),te=e.length,n}function Oi(e){const t=Fi(e,w.__wbindgen_malloc),n=te;return w.load_embeddings(t,n)}function Mi(e,t,n){w.closure25_externref_shim(e,t,n)}function Li(e,t,n,r){w.closure38_externref_shim(e,t,n,r)}const En=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>w.__wbg_neuralcollection_free(e>>>0,1));class ir{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,En.unregister(this),t}free(){const t=this.__destroy_into_raw();w.__wbg_neuralcollection_free(t,0)}constructor(){const t=w.neuralcollection_create();return this.__wbg_ptr=t>>>0,En.register(this,this.__wbg_ptr,this),this}add_document(t){rr(t,$t);var n=t.__destroy_into_raw();w.neuralcollection_add_document(this.__wbg_ptr,n)}search(t){const n=Ee(t,w.__wbindgen_malloc,w.__wbindgen_realloc),r=te;return w.neuralcollection_search(this.__wbg_ptr,n,r)}}const xn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>w.__wbg_neuraldocument_free(e>>>0,1));class $t{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,xn.unregister(this),t}free(){const t=this.__destroy_into_raw();w.__wbg_neuraldocument_free(t,0)}constructor(t){const n=Ee(t,w.__wbindgen_malloc,w.__wbindgen_realloc),r=te,i=w.neuraldocument_create(n,r);return this.__wbg_ptr=i>>>0,xn.register(this,this.__wbg_ptr,this),this}}const kn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>w.__wbg_tfidfcollection_free(e>>>0,1));class sr{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,kn.unregister(this),t}free(){const t=this.__destroy_into_raw();w.__wbg_tfidfcollection_free(t,0)}constructor(){const t=w.tfidfcollection_create();return this.__wbg_ptr=t>>>0,kn.register(this,this.__wbg_ptr,this),this}add_document(t){rr(t,Ct);var n=t.__destroy_into_raw();w.tfidfcollection_add_document(this.__wbg_ptr,n)}search(t){const n=Ee(t,w.__wbindgen_malloc,w.__wbindgen_realloc),r=te;return w.tfidfcollection_search(this.__wbg_ptr,n,r)}}const Tn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>w.__wbg_tfidfdocument_free(e>>>0,1));class Ct{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Tn.unregister(this),t}free(){const t=this.__destroy_into_raw();w.__wbg_tfidfdocument_free(t,0)}constructor(t){const n=Ee(t,w.__wbindgen_malloc,w.__wbindgen_realloc),r=te,i=w.tfidfdocument_create(n,r);return this.__wbg_ptr=i>>>0,Tn.register(this,this.__wbg_ptr,this),this}}async function Pi(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Ni(){const e={};return e.wbg={},e.wbg.__wbg_call_672a4d21634d4a24=function(){return Lt(function(t,n){return t.call(n)},arguments)},e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return Lt(function(t,n,r){return t.call(n,r)},arguments)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(at(t,n))}finally{w.__wbindgen_free(r,i,1)}},e.wbg.__wbg_log_c222819a41e063d3=function(t){console.log(t)},e.wbg.__wbg_new_23a2665fac83c611=function(t,n){try{var r={a:t,b:n},i=(o,u)=>{const l=r.a;r.a=0;try{return Li(l,r.b,o,u)}finally{r.a=l}};return new Promise(i)}finally{r.a=r.b=0}},e.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},e.wbg.__wbg_new_78feb108b6472713=function(){return new Array},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_newnoargs_105ed471475aaf50=function(t,n){return new Function(at(t,n))},e.wbg.__wbg_push_737cfc8c1432c2c6=function(t,n){return t.push(n)},e.wbg.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(t){queueMicrotask(t)},e.wbg.__wbg_queueMicrotask_d3219def82552485=function(t){return t.queueMicrotask},e.wbg.__wbg_resolve_4851785c9c5f573d=function(t){return Promise.resolve(t)},e.wbg.__wbg_set_bb8cecf6a62b9f46=function(){return Lt(function(t,n,r){return Reflect.set(t,n,r)},arguments)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){const r=n.stack,i=Ee(r,w.__wbindgen_malloc,w.__wbindgen_realloc),s=te;ut().setInt32(t+4*1,s,!0),ut().setInt32(t+4*0,i,!0)},e.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const t=typeof global>"u"?null:global;return ct(t)?0:Be(t)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const t=typeof globalThis>"u"?null:globalThis;return ct(t)?0:Be(t)},e.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const t=typeof self>"u"?null:self;return ct(t)?0:Be(t)},e.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const t=typeof window>"u"?null:window;return ct(t)?0:Be(t)},e.wbg.__wbg_then_44b73946d2fb3e7d=function(t,n){return t.then(n)},e.wbg.__wbindgen_cb_drop=function(t){const n=t.original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper145=function(t,n,r){return Ii(t,n,26,Mi)},e.wbg.__wbindgen_debug_string=function(t,n){const r=Vt(n),i=Ee(r,w.__wbindgen_malloc,w.__wbindgen_realloc),s=te;ut().setInt32(t+4*1,s,!0),ut().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_init_externref_table=function(){const t=w.__wbindgen_export_2,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e.wbg.__wbindgen_is_function=function(t){return typeof t=="function"},e.wbg.__wbindgen_is_undefined=function(t){return t===void 0},e.wbg.__wbindgen_number_new=function(t){return t},e.wbg.__wbindgen_string_new=function(t,n){return at(t,n)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(at(t,n))},e}function qi(e,t){return w=e.exports,or.__wbindgen_wasm_module=t,we=null,We=null,w.__wbindgen_start(),w}async function or(e){if(w!==void 0)return w;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("/semantic-search/assets/rust_embedding_bg-xo9nlh6J.wasm",import.meta.url));const t=Ni();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Pi(await e,t);return qi(n,r)}const Ae=[];function st(e,t=Ce){let n=null;const r=new Set;function i(u){if(Cn(e,u)&&(e=u,n)){const l=!Ae.length;for(const a of r)a[1](),Ae.push(a,e);if(l){for(let a=0;a<Ae.length;a+=2)Ae[a][0](Ae[a+1]);Ae.length=0}}}function s(u){i(u(e))}function o(u,l=Ce){const a=[u,l];return r.add(a),r.size===1&&(n=t(i,s)||Ce),u(e),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}const Re=st(null),Fe=st(null),ye=st("tf-idf"),de=st({isUploading:!1,message:"",documentsAdded:0}),Ge=st(window.matchMedia("(prefers-color-scheme: dark)").matches);var Ui=L('<span class="break-score svelte-123uvv2"> </span>'),zi=L('<div class="chunk svelte-123uvv2"><div class="chunk-header svelte-123uvv2"> <!></div> <div class="chunk-content svelte-123uvv2"> </div></div>'),ji=L('<div class="preview-modal svelte-123uvv2"><div class="preview-content svelte-123uvv2"><h3> </h3> <div class="chunks-info svelte-123uvv2"><p> </p></div> <div class="preview-chunks svelte-123uvv2"></div> <div class="preview-actions svelte-123uvv2"><button class="confirm svelte-123uvv2">Process File</button> <button class="cancel svelte-123uvv2">Cancel</button></div></div></div>');function Bi(e,t){ue(t,!1);let n=je(t,"chunks",24,()=>[]),r=je(t,"filename",8,""),i=je(t,"onConfirm",8),s=je(t,"onCancel",8);pe();var o=ji(),u=y(o),l=y(u),a=y(l),c=k(l,2),f=y(c),_=y(f),d=k(c,2);Ye(d,5,n,He,(g,m,$)=>{var M=zi(),E=y(M),x=y(E);x.nodeValue=`Chunk ${$+1} `;var q=k(x);{var C=O=>{var N=Ui(),G=y(N);P(()=>V(G,`Topic shift score: ${Number(v(m).breakScore).toFixed(3)??""}`)),F(O,N)};ie(q,O=>{v(m).breakScore!==void 0&&O(C)})}var p=k(E,2),A=y(p);P(()=>V(A,v(m).text)),F(g,M)});var h=k(d,2),b=y(h),T=k(b,2);P(()=>{V(a,`Preview: ${r()??""}`),V(_,`File will be split into ${n().length??""} chunks based on topic changes.`)}),K("click",b,function(...g){var m;(m=i())==null||m.apply(this,g)}),K("click",T,function(...g){var m;(m=s())==null||m.apply(this,g)}),F(e,o),ce()}var Wi=L('<div class="status-message svelte-2p5evz"> </div>'),Vi=L('<div class="input-section svelte-2p5evz" role="region" aria-label="File upload dropzone"><h3>Upload File</h3> <div class="upload-zone svelte-2p5evz"><input type="file" accept=".txt,.md,.csv" class="file-input svelte-2p5evz"> <div class="upload-message svelte-2p5evz">Drag and drop a file here or click to select</div></div> <!></div> <!>',1);function Hi(e,t){ue(t,!1);const n=qe(),r=()=>j(de,"$uploadStatus",n),i=()=>j(ye,"$searchMode",n),s=()=>j(Re,"$collection",n),o=()=>j(Fe,"$neuralCollection",n);let u=Z(),l=Z(!1),a=Z(null);async function c(p){if(p)try{const A=await p.text(),O=Ri(A,3,.3);D(a,{content:A,chunks:Array.from(O),filename:p.name})}catch(A){console.error("Error reading file:",A),Q(de,{isUploading:!1,message:"Error reading file. Please try again.",documentsAdded:0})}}async function f(){try{Q(de,{isUploading:!0,message:`Processing ${v(a).filename}...`,documentsAdded:0});for(const[p,A]of v(a).chunks.entries()){if(i()==="tf-idf"){const O=new Ct(A.text);s().add_document(O)}else{const O=new $t(A.text);o().add_document(O)}Mt(de,z(r).documentsAdded=p+1,z(r)),Mt(de,z(r).message=`Processing chunks: ${p+1}/${v(a).chunks.length}`,z(r))}Q(de,{isUploading:!1,message:`Successfully added ${v(a).chunks.length} chunks from ${v(a).filename}`,documentsAdded:v(a).chunks.length}),D(a,null),setTimeout(()=>{r().isUploading||Mt(de,z(r).message="",z(r))},3e3)}catch(p){console.error("Error processing file:",p),Q(de,{isUploading:!1,message:"Error processing file. Please try again.",documentsAdded:0})}}function _(){D(a,null),on(u,v(u).value="")}async function d(p){const A=p.target.files[0];await c(A),on(u,v(u).value="")}function h(p){p.preventDefault(),D(l,!0)}function b(){D(l,!1)}async function T(p){p.preventDefault(),D(l,!1);const A=p.dataTransfer.files;A.length>0&&await c(A[0])}pe();var g=Vi(),m=rt(g),$=k(y(m),2),M=y($);Ei(M,p=>D(u,p),()=>v(u));var E=k($,2);{var x=p=>{var A=Wi();const O=Mn(()=>r().message.includes("Error"));P(()=>Xe(A,"error",v(O)));var N=y(A);P(()=>V(N,r().message)),F(p,A)};ie(E,p=>{r().message&&p(x)})}var q=k(m,2);{var C=p=>{Bi(p,{get chunks(){return v(a).chunks},get filename(){return v(a).filename},onConfirm:f,onCancel:_})};ie(q,p=>{v(a)&&p(C)})}P(()=>Xe(m,"drag-over",v(l))),K("change",M,d),K("dragover",m,h),K("dragleave",m,b),K("drop",m,T),F(e,g),ce()}var Yi=L('<div class="input-section svelte-5uot77"><h3>Enter Text</h3> <textarea placeholder="Enter text to add to the collection" class="svelte-5uot77"></textarea> <button>Add Text</button></div>');function Ki(e,t){ue(t,!1);const n=qe(),r=()=>j(ye,"$searchMode",n),i=()=>j(Re,"$collection",n),s=()=>j(Fe,"$neuralCollection",n);let o=Z("");function u(){if(v(o)){if(r()==="tf-idf"){const f=new Ct(v(o));i().add_document(f)}else{const f=new $t(v(o));s().add_document(f)}D(o,"")}}pe();var l=Yi(),a=k(y(l),2),c=k(a,2);er(a,()=>v(o),f=>D(o,f)),K("click",c,u),F(e,l),ce()}var Gi=L('<div class="search-section svelte-q5g2rd"><h2>Search</h2> <div class="search-box svelte-q5g2rd"><input type="text" placeholder="Enter search query" class="svelte-q5g2rd"> <button>Search</button></div></div>');function Ji(e,t){ue(t,!1);const n=qe(),r=()=>j(ye,"$searchMode",n),i=()=>j(Re,"$collection",n),s=()=>j(Fe,"$neuralCollection",n),o=Ai();let u=Z("");function l(){if(v(u)){console.log("Searching with mode:",r());const d=r()==="tf-idf"?i().search(v(u)):s().search(v(u));console.log("Got results:",d),o("search",Array.from(d).sort((h,b)=>b.score-h.score))}}pe();var a=Gi(),c=k(y(a),2),f=y(c),_=k(f,2);er(f,()=>v(u),d=>D(u,d)),K("click",_,l),F(e,a),ce()}var Zi=L('<div class="result svelte-1vpl2cx"><div class="document-chunk svelte-1vpl2cx"><p class="result-text svelte-1vpl2cx"> </p></div> <div class="metadata svelte-1vpl2cx"><p class="score svelte-1vpl2cx"> </p></div></div>'),Qi=L('<div class="results svelte-1vpl2cx"><h2> </h2> <!></div>');function Xi(e,t){ue(t,!1);let n=je(t,"results",24,()=>[]);pe();var r=Xn(),i=rt(r);{var s=o=>{var u=Qi(),l=y(u),a=y(l),c=k(l,2);Ye(c,1,n,He,(f,_)=>{var d=Zi(),h=y(d),b=y(h),T=y(b),g=k(h,2),m=y(g),$=y(m);P(()=>V($,`Similarity: ${v(_).score.toFixed(3)??""}`)),P(()=>V(T,v(_).text)),F(f,d)}),P(()=>V(a,`Search Results (${n().length??""})`)),F(o,u)};ie(i,o=>{n().length>0&&o(s)})}F(e,r),ce()}var es=L('<div class="result-item"><p> </p> <p class="score"> </p></div>'),ts=L('<div class="result-item"><p> </p> <p class="score"> </p></div>'),ns=L('<div class="test-result svelte-1tyilsj"><h3 class="svelte-1tyilsj"> </h3> <div class="grid-2-columns"><div class="sub-section"><h4 class="svelte-1tyilsj">TF-IDF Results</h4> <!></div> <div class="sub-section"><h4 class="svelte-1tyilsj">Neural Results</h4> <!></div></div></div>'),rs=L('<div class="content-section"><h2>Search Tests</h2> <button>Run Test Searches</button> <!></div>');function is(e,t){ue(t,!1);const n=qe(),r=()=>j(Re,"$collection",n),i=()=>j(Fe,"$neuralCollection",n);let s=Z([]);function o(){Q(Re,new sr),Q(Fe,new ir),["The cat sat on the mat.","Dogs are playful pets.","I love cats and dogs.","The mat was comfortable.","Pets make great companions."].forEach(d=>{const h=new Ct(d),b=new $t(d);r().add_document(h),i().add_document(b)});const _=["cat","dog","pets","mat","animals"];D(s,[]),_.forEach(d=>{const h=Array.from(r().search(d)).sort((T,g)=>g.score-T.score),b=Array.from(i().search(d)).sort((T,g)=>g.score-T.score);v(s).push({query:d,tfIdf:h,neural:b})})}pe();var u=rs(),l=k(y(u),2),a=k(l,2);{var c=f=>{var _=Xn(),d=rt(_);Ye(d,1,()=>v(s),He,(h,b)=>{var T=ns(),g=y(T),m=y(g),$=k(g,2),M=y($),E=k(y(M),2);Ye(E,1,()=>v(b).tfIdf,He,(C,p)=>{var A=es(),O=y(A),N=y(O),G=k(O,2),fe=y(G);P(()=>V(fe,`Score: ${v(p).score.toFixed(4)??""}`)),P(()=>V(N,v(p).text)),F(C,A)});var x=k(M,2),q=k(y(x),2);Ye(q,1,()=>v(b).neural,He,(C,p)=>{var A=ts(),O=y(A),N=y(O),G=k(O,2),fe=y(G);P(()=>V(fe,`Score: ${v(p).score.toFixed(4)??""}`)),P(()=>V(N,v(p).text)),F(C,A)}),P(()=>V(m,`Query: "${v(b).query??""}"`)),F(h,T)}),F(f,_)};ie(a,f=>{v(s).length>0&&f(c)})}K("click",l,o),F(e,u),ce()}var ss=L('<div class="modal-overlay"><div class="modal-content debug-content svelte-129h2mi"><div class="debug-header svelte-129h2mi"><h2 class="svelte-129h2mi">Debug Menu</h2> <div class="debug-controls svelte-129h2mi"><div class="theme-switch-wrapper svelte-129h2mi"><span class="theme-icon svelte-129h2mi">üåû</span> <button class="theme-switch svelte-129h2mi" title="Toggle theme" aria-label="Toggle between light and dark theme"><div class="switch-handle svelte-129h2mi"></div></button> <span class="theme-icon svelte-129h2mi">üåô</span></div> <button class="close-button">√ó</button></div></div> <div class="debug-body svelte-129h2mi"><!></div></div></div>'),os=L('<button class="debug-toggle svelte-129h2mi" title="Toggle Debug Menu (Ctrl+Shift+D)">üõ†Ô∏è</button> <!>',1);function ls(e,t){ue(t,!1);const n=qe(),r=()=>j(Ge,"$isDarkMode",n);let i=Z(!1);function s(){Q(Ge,!r())}tr(()=>{document.documentElement.getAttribute("data-theme");const c=f=>{f.ctrlKey&&f.shiftKey&&f.key.toLowerCase()==="d"&&(f.preventDefault(),D(i,!v(i)))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)}),pe();var o=os(),u=rt(o),l=k(u,2);{var a=c=>{var f=ss(),_=y(f),d=y(_),h=k(y(d),2),b=y(h),T=k(y(b),2),g=k(b,2),m=k(d,2),$=y(m);is($,{}),P(()=>Xe(T,"is-dark",r())),K("click",T,s),K("click",g,()=>D(i,!1)),F(c,f)};ie(l,c=>{v(i)&&c(a)})}K("click",u,()=>D(i,!v(i))),F(e,o),ce()}var as=L('<button class="load-embeddings"><!></button>'),us=L('<div class="error-message svelte-3xrr2d"> </div>'),cs=L('<div class="mode-selector svelte-3xrr2d"><label class="mode-option svelte-3xrr2d"><input type="radio"> <span>TF-IDF</span></label> <label class="mode-option svelte-3xrr2d"><input type="radio"> <span>Neural</span> <!></label> <!></div> <!> <!> <!> <!> <!>',1),fs=L("<p>Loading WASM module...</p>"),ds=L('<main class="svelte-3xrr2d"><h1>Semantic Search Demo</h1> <!></main>');function _s(e,t){ue(t,!1);const n=qe(),r=()=>j(Ge,"$isDarkMode",n),i=()=>j(ye,"$searchMode",n),s=[];let o=Z(!1),u=Z(!1),l=Z(!1),a=Z(null),c=Z([]);async function f(){try{D(u,!0),D(a,null);const g=await fetch("/semantic-search/embeddings/glove.50d.quantized.bin");if(!g.ok)throw new Error(`Failed to load embeddings: ${g.statusText}`);const m=await g.arrayBuffer();await Oi(new Uint8Array(m)),D(l,!0),Q(Fe,new ir)}catch(g){console.error("Error loading embeddings:",g),D(a,g.message)}finally{D(u,!1)}}tr(async()=>{await or();const g=localStorage.getItem("theme");g?Ge.set(g==="dark"):Ge.set(window.matchMedia("(prefers-color-scheme: dark)").matches),document.documentElement.setAttribute("data-theme",r()?"dark":"light"),Q(Re,new sr),D(o,!0)});function _(g){D(c,g.detail)}cn(()=>r(),()=>{typeof document<"u"&&(document.documentElement.setAttribute("data-theme",r()?"dark":"light"),localStorage.setItem("theme",r()?"dark":"light"))}),cn(()=>(i(),v(l)),()=>{i()==="neural"&&!v(l)&&Q(ye,"tf-idf")}),Kr(),pe();var d=ds(),h=k(y(d),2);{var b=g=>{var m=cs(),$=rt(m),M=y($),E=y(M);E.value=(E.__value="tf-idf")==null?"":"tf-idf";var x=k(M,2),q=y(x);q.value=(q.__value="neural")==null?"":"neural";var C=k(q,4);{var p=B=>{var X=as(),ke=y(X);{var lr=Te=>{var It=hn("Loading...");F(Te,It)},ar=Te=>{var It=hn("Load GloVe embeddings (23MB)");F(Te,It)};ie(ke,Te=>{v(u)?Te(lr):Te(ar,!1)})}P(()=>{X.disabled=v(u),Xe(X,"loading",v(u))}),K("click",X,xi(f)),F(B,X)};ie(C,B=>{v(l)||B(p)})}var A=k(x,2);{var O=B=>{var X=us(),ke=y(X);P(()=>V(ke,`Failed to load embeddings: ${v(a)??""}`)),F(B,X)};ie(A,B=>{v(a)&&B(O)})}var N=k($,2);Ki(N,{});var G=k(N,2);Hi(G,{});var fe=k(G,2);Ji(fe,{$$events:{search:_}});var Ue=k(fe,2);Xi(Ue,{get results(){return v(c)}});var ot=k(Ue,2);ls(ot,{}),P(()=>{Xe(x,"disabled",!v(l)),q.disabled=!v(l)}),bn(s,[],E,i,B=>Q(ye,B)),bn(s,[],q,i,B=>Q(ye,B)),F(g,m)},T=g=>{var m=fs();F(g,m)};ie(h,g=>{v(o)?g(b):g(T,!1)})}F(e,d),ce()}vi(_s,{target:document.getElementById("app")});
